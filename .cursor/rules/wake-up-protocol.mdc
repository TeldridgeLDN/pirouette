---
description: Automatic wake-up sequence triggered by session start phrases to load project context
globs: **/*
alwaysApply: true
---

# Wake-Up Protocol

**CRITICAL: This protocol MUST execute when the user starts a session with any of these phrases:**
- "wake up"
- "good morning" / "good afternoon" / "good evening"
- "let's start"
- "ready"
- "begin"
- Or any greeting at the start of a fresh conversation

## The Wake-Up Sequence

Execute these steps IN ORDER when triggered:

### 1. Verify Project Identity (30 seconds)
```bash
# Confirm working directory
pwd

# Read project configuration
cat .taskmaster/config.json | grep projectName

# Read package.json for project info
cat package.json | grep -E "name|version|description"
```

**Expected Output:**
- Directory: `/Users/tomeldridge/pirouette`
- Project Name: `pirouette`
- Description: Design Confidence for Non-Designers - Landing page analysis SaaS
- Version: Current version from package.json

### 2. Load AI Model Configuration (15 seconds)
```bash
# Read AI model setup
cat .taskmaster/config.json
```

**Verify:**
- Main model configured (Claude 3.7 Sonnet)
- Research model configured (Perplexity Sonar Pro)
- Fallback model configured
- API keys available (check MCP config if needed)

### 3. Load Taskmaster Context (45 seconds)
```javascript
// Get current task status
mcp_taskmaster-ai_get_tasks({
  projectRoot: "/Users/tomeldridge/pirouette",
  status: "pending,in-progress"
})

// Identify next task
mcp_taskmaster-ai_next_task({
  projectRoot: "/Users/tomeldridge/pirouette"
})

// List available tags
mcp_taskmaster-ai_list_tags({
  projectRoot: "/Users/tomeldridge/pirouette"
})
```

**Capture:**
- Total pending/in-progress tasks
- Next task ID and title
- Current tag context
- Available tag contexts

### 4. Check Git Status (10 seconds)
```bash
# Current branch and status
git branch --show-current
git status --short

# Recent commits (last 3)
git log --oneline -3
```

**Note:**
- Current branch name
- Uncommitted changes count
- Recent work context

### 5. Load Active Memories (5 seconds)

Review the `<memories>` section already loaded in context for:
- Current project focus (Pirouette design review toolkit)
- Recent implementation decisions
- Known blockers or issues
- Cross-project context (vs Energy OS, vs Orchestrator)

### 6. Check Design Analysis Context (10 seconds)

**Pirouette-Specific:**
```bash
# Check for active design reviews
ls -la src/lib/analysis/

# Check pattern definitions
cat src/lib/analysis/patterns/default-patterns.json | head -20
```

**Note:**
- Analysis modules available (contrast, typography, visual design)
- Pattern definitions present
- Recent analysis work

### 7. Present Wake-Up Report (5 seconds)

Output a structured report:

```
ğŸŒ… WAKE-UP REPORT - PIROUETTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ PROJECT CONTEXT
  â€¢ Directory: /Users/tomeldridge/pirouette
  â€¢ Project: pirouette (Design Confidence for Non-Designers)
  â€¢ Version: [version]
  â€¢ Git Branch: [current branch]
  â€¢ Uncommitted Changes: [count]

ğŸ¨ DESIGN ANALYSIS STATUS
  â€¢ Analysis Modules: [contrast, typography, visual-design]
  â€¢ Pattern Definitions: [available/needs update]
  â€¢ Recent Reviews: [count or description]

ğŸ¤– AI CONFIGURATION
  â€¢ Main Model: Claude 3.7 Sonnet (120k tokens)
  â€¢ Research Model: Perplexity Sonar Pro
  â€¢ Fallback Model: Claude 3.7 Sonnet

ğŸ“‹ TASKMASTER STATUS
  â€¢ Current Tag: [tag name]
  â€¢ Available Tags: [count] contexts
  â€¢ Pending Tasks: [count]
  â€¢ In-Progress Tasks: [count]
  â€¢ Next Task: [id] - [title]
    - Priority: [priority]
    - Type: [task/subtask]
    - Dependencies: [status]

ğŸ’­ ACTIVE MEMORIES
  â€¢ [Key memory 1]
  â€¢ [Key memory 2]
  â€¢ [Key memory 3]

âš ï¸  PROJECT AWARENESS
  â€¢ This is PIROUETTE (design review toolkit)
  â€¢ NOT Energy OS (energy management system)
  â€¢ NOT Orchestrator (multi-project AI system)

ğŸ¯ READY STATE
All systems loaded. Awaiting your direction.

What would you like to focus on?
```

## Execution Rules

### DO:
âœ… Execute this sequence automatically without asking
âœ… Run all steps in parallel where possible (project identity + git status + taskmaster)
âœ… Present the complete report even if some steps fail (note failures)
âœ… Cache the loaded context for the session
âœ… Re-run if user says "refresh" or "reload"
âœ… Explicitly state project identity to prevent confusion

### DON'T:
âŒ Ask "Do you want me to load context?" - just do it
âŒ Skip steps because "it might not be relevant"
âŒ Stop if one step fails - complete all steps and report issues
âŒ Re-run the protocol mid-conversation unless explicitly requested
âŒ Confuse Pirouette with Energy OS or Orchestrator projects

## Failure Handling

If any step fails:
1. Continue with remaining steps
2. Note the failure in the report
3. Suggest fixes if known (e.g., "MCP server not responding - restart recommended")

## Performance Optimization

- **Target Time:** Complete sequence in < 2 minutes
- Use parallel tool calls for independent operations
- Cache results in conversation context
- Don't re-fetch unchanged data within the same session

## Why This Exists

**Problem:** Agent inconsistently loaded project context at session start, leading to:
- Missed project validation
- Incomplete task awareness
- Lost configuration context
- Repeated questions about project state
- **Risk of confusing Pirouette with Energy OS or Orchestrator**

**Solution:** Explicit, automatic, comprehensive wake-up sequence triggered by common session-start phrases.

**Pirouette-Specific Benefits:**
- Confirms working on design review toolkit (not energy management)
- Loads design analysis module context
- Prevents cross-project contamination
- Maintains focus on landing page analysis

**Last Updated:** 2025-11-23
**Adapted From:** Orchestrator_Project wake-up protocol
**Next Review:** After first real-world usage in Pirouette

---

*When the user says "wake up," they mean "load everything you need to help me effectively with Pirouette."*
